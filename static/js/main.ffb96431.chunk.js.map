{"version":3,"sources":["Components/App/App.module.css","Components/Ballot/Ballot.tsx","ballot.ts","share.ts","assets/github.png","Components/App/App.tsx","reportWebVitals.ts","index.tsx","Components/Ballot/Ballot.module.css"],"names":["module","exports","Ballot","initials","footer","className","style","card","mode","partyBallots","share","dataUrl","a","forceDownload","navigator","window","fetch","then","res","blob","clipboard","write","ClipboardItem","catch","err","file","File","type","title","text","files","document","createElement","href","download","click","App","useState","randomIndex","Math","floor","random","length","generateRandomPartyBallot","ballot","setBallot","currentScreen","setCurrentScreen","exportPicture","body","setAttribute","domToImage","toJpeg","getElementById","container","githubFlare","target","rel","src","githubIcon","id","ballotContainer","watermark","ballotForm","inputGroup","value","onChange","e","prev","onClick","preventDefault","messageContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ffb96431.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__3twmq\",\"githubFlare\":\"App_githubFlare__2PG1e\",\"ballotContainer\":\"App_ballotContainer__HbQmZ\",\"ballotForm\":\"App_ballotForm__2pLw5\",\"inputGroup\":\"App_inputGroup__27fKi\",\"watermark\":\"App_watermark__1wMfL\",\"messageContainer\":\"App_messageContainer__3JuJs\"};","import React from 'react';\nimport style from './Ballot.module.css';\nimport { Textfit } from 'react-textfit';\n\nexport interface BallotProps {\n  initials: string;\n  footer: string;\n}\n\nexport const Ballot = ({ initials, footer }: BallotProps) => {\n  return (\n    <div className={style.card}>\n      <Textfit className={style.initials} mode=\"single\">\n        {initials}\n      </Textfit>\n      <p className={style.footer}>{footer}</p>\n    </div>\n  );\n};\n","export interface PartyBallot {\n  initials: string;\n  footer: string;\n}\n\nconst partyBallots: PartyBallot[] = [\n  {\n    initials: 'אמת',\n    footer: 'מפלגת העבודה בראשות מירב מיכאלי',\n  },\n  {\n    initials: 'ב',\n    footer: 'ימינה בראשות נפתלי בנט',\n  },\n  {\n    initials: 'ג',\n    footer: 'יהדות התורה והשבת אגודת ישראל - דגל התורה',\n  },\n  {\n    initials: 'ודעם',\n    footer: 'הרשימה המשותפת (חד\"ש, תע\"ל, בל\"ד)',\n  },\n  {\n    initials: 'ז',\n    footer: 'הישראלים',\n  },\n  {\n    initials: 'זץ',\n    footer: 'צומת - עצמאים, חקלאים, כפרים',\n  },\n  {\n    initials: 'ט',\n    footer: \"הציונות הדתית בראשות בצלאל סמוטריץ'\",\n  },\n  {\n    initials: 'י',\n    footer: 'המפץ החברתי - גמלאים',\n  },\n  {\n    initials: 'יז',\n    footer: 'הכלכלית החדשה - בראשות ירון זליכה',\n  },\n  {\n    initials: 'ינ',\n    footer: 'ברית השותפות לאיחוד לאומי בהנהגת רב חובל ב. שליאן',\n  },\n  {\n    initials: 'יף',\n    footer: 'כבוד האדם, בראשות עו\"ד ארקדי פונץ',\n  },\n  {\n    initials: 'יק',\n    footer: 'מפלגת הגוש התנכי',\n  },\n  {\n    initials: 'יר',\n    footer: 'מנהיגות חברתית',\n  },\n  {\n    initials: 'כ',\n    footer: 'הלב היהודי בראשות אלי יוסף',\n  },\n  {\n    initials: 'כך',\n    footer: 'אני ואתה - מפלגת העם הישראלי',\n  },\n  {\n    initials: 'כן',\n    footer: 'כחול לבן בראשות בני גנץ',\n  },\n  {\n    initials: 'ל',\n    footer: 'ישראל ביתנו בראשות אביגדור ליברמן',\n  },\n  {\n    initials: 'מחל',\n    footer: 'הליכוד בהנהגת בנימין נתניהו לראשות הממשלה',\n  },\n  {\n    initials: 'מרצ',\n    footer: 'מרצ - השמאל של ישראל',\n  },\n  {\n    initials: 'נ',\n    footer: 'קמ\"ה - קידום מעמד הפרט',\n  },\n  {\n    initials: 'ני',\n    footer: 'עולם חדש בראשות יורם אדרי',\n  },\n  {\n    initials: 'נר',\n    footer: '\"אנחנו\" - בראשות עו\"ד מוש חוגה',\n  },\n  {\n    initials: 'עם',\n    footer: 'הרשימה הערבית המאוחדת',\n  },\n  {\n    initials: 'פה',\n    footer: 'יש עתיד בראשות יאיר לפיד',\n  },\n  {\n    initials: 'ףז',\n    footer: 'הפיראטים',\n  },\n  {\n    initials: 'צי',\n    footer: 'עצמנו עצמאים וליברלים',\n  },\n  {\n    initials: 'צכ',\n    footer: 'מען (יחד) לעידן חדש',\n  },\n  {\n    initials: 'צף',\n    footer: 'חץ',\n  },\n  {\n    initials: 'ץ',\n    footer: 'דעם - כלכלה ירוקה מדינה אחת',\n  },\n  {\n    initials: 'ק',\n    footer: 'נועם קולמן, לירון עופרי וסולי וולף הבלתי אפשרי, אפשרי',\n  },\n  {\n    initials: 'קי',\n    footer: 'מפלגת שמע בראשות נפתלי גולדמן',\n  },\n  {\n    initials: 'קך',\n    footer: 'סדר חדש לשינוי שיטת הבחירות והממשל בישראל בראשות עו\"ד אביטל אופק',\n  },\n  {\n    initials: 'ר',\n    footer: 'רפא - רק בריאות בראשות דוקטור אריה אבני',\n  },\n  {\n    initials: 'רנ',\n    footer: 'התקווה לשינוי',\n  },\n  {\n    initials: 'רף',\n    footer: 'מפלגת עם שלם - בראשות הרב חיים אמסלם',\n  },\n  {\n    initials: 'רק',\n    footer: 'דמוקרטית - חירות, שוויון וערבות הדדית',\n  },\n  {\n    initials: 'שס',\n    footer: 'התאחדות הספרדים שומרי תורה תנועתו של מרן הרב עובדיה יוסף זצ\"ל',\n  },\n  {\n    initials: 'ת',\n    footer: 'תקווה חדשה בהנהגת גדעון סער לראשות הממשלה',\n  },\n];\n\nexport const generateRandomPartyBallot = () => {\n  const randomIndex = Math.floor(Math.random() * partyBallots.length);\n  return partyBallots[randomIndex];\n};\n","export const share = async (\n  dataUrl: string,\n  { forceDownload = false } = {}\n) => {\n  if ((navigator as any).share && (window as any).fetch && !forceDownload) {\n    const blob = await fetch(dataUrl).then((res) => res.blob());\n\n    try {\n      (navigator.clipboard as any)\n        .write([new (window as any).ClipboardItem({ 'image/jpeg': blob })])\n        ?.catch?.(() => void 0);\n    } catch (err) {\n      // do nothing\n    }\n\n    const file = new File([blob], 'petek.jpg', { type: 'image/jpeg' });\n    await (navigator as any).share({\n      title: 'הצביעו לי!',\n      text: 'צרו את הפתק שלכם עכשיו באתר https://petek.design',\n      files: [file],\n    });\n  } else {\n    const a = document.createElement('a');\n    a.href = dataUrl;\n    a.download = 'פתק.jpg';\n    a.click();\n  }\n};\n","export default __webpack_public_path__ + \"static/media/github.d3263084.png\";","import React, { useState } from 'react';\nimport domToImage from 'dom-to-image';\nimport { Ballot } from '../Ballot/Ballot';\nimport { generateRandomPartyBallot, PartyBallot } from '../../ballot';\nimport { share } from '../../share';\nimport githubIcon from '../../assets/github.png';\nimport style from './App.module.css';\n\nfunction App() {\n  const [ballot, setBallot] = useState<PartyBallot>(\n    generateRandomPartyBallot()\n  );\n  const [currentScreen, setCurrentScreen] = useState<'editor' | 'message'>(\n    'editor'\n  );\n\n  const setInitials = (initials: string) => {\n    setBallot((prev) => ({ ...prev, initials }));\n  };\n\n  const setFooter = (footer: string) => {\n    setBallot((prev) => ({ ...prev, footer }));\n  };\n\n  const exportPicture = async () => {\n    document.body.setAttribute('print-mode', 'true');\n    const dataUrl = await domToImage.toJpeg(\n      document.getElementById('ballotContainer') as Node\n    );\n    document.body.setAttribute('print-mode', 'false');\n\n    setCurrentScreen('message');\n    share(dataUrl);\n  };\n\n  const renderEditor = () => {\n    return (\n      <>\n        <span id=\"ballotContainer\" className={style.ballotContainer}>\n          <Ballot initials={ballot.initials} footer={ballot.footer} />\n          <span className={style.watermark}>https://petek.design</span>\n        </span>\n        <form className={style.ballotForm}>\n          <span className={style.inputGroup}>\n            <label>אותיות</label>\n            <input\n              type=\"text\"\n              value={ballot.initials}\n              onChange={(e) => setInitials(e.target.value)}\n            />\n          </span>\n          <span className={style.inputGroup}>\n            <label>שם המפלגה</label>\n            <input\n              type=\"text\"\n              value={ballot.footer}\n              onChange={(e) => setFooter(e.target.value)}\n            />\n          </span>\n          <span className={style.inputGroup}>\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                exportPicture();\n              }}\n            >\n              שתף פתק\n            </button>\n          </span>\n        </form>\n      </>\n    );\n  };\n\n  const renderMessage = () => {\n    return (\n      <span className={style.messageContainer}>\n        <h1>בהצלחה בבחירות! ואל תשכחו - צאו להצביע!</h1>\n        <p>לא יודעים היכן אתם מצביעים?</p>\n        <a\n          href=\"https://www.gov.il/apps/moin/bocharim/\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <button>לחצו כאן לאיתור הקלפי שלכם</button>\n        </a>\n        <button onClick={() => setCurrentScreen('editor')}>\n          עצבו פתק נוסף\n        </button>\n      </span>\n    );\n  };\n\n  return (\n    <div className={style.container}>\n      <a\n        className={style.githubFlare}\n        href=\"https://github.com/illBeRoy/petek\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <img src={githubIcon} />\n      </a>\n      {currentScreen === 'editor' ? renderEditor() : renderMessage()}\n    </div>\n  );\n}\n\nexport default App;\n","import type { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Ballot_card__16EVy\",\"initials\":\"Ballot_initials__YoDJ7\",\"footer\":\"Ballot_footer__1s0hm\"};"],"sourceRoot":""}